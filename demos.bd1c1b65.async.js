"use strict";(self.webpackChunketc_hooks=self.webpackChunketc_hooks||[]).push([[433],{76948:function(W,o,e){e.r(o);var A=e(28152),h=e.n(A),D=e(98340),c=e(68315),v=e(53224),m=e(50959),u=e(52431),r=e(11527);function s(f){return new Promise(function(_,a){setTimeout(function(){Math.random()>.5?_():a(new Error("Failed to modify username"))},1e3)})}o.default=function(){var f=(0,m.useState)(""),_=h()(f,2),a=_[0],E=_[1],C=(0,u.Z)(s,{manual:!0,onSuccess:function(y,L){E(""),D.ZP.success('The username was changed to "'.concat(L[0],'" !'))},onError:function(y){D.ZP.error(y.message)}}),i=C.loading,U=C.run,g=C.cancel;return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{onChange:function(y){return E(y.target.value)},value:a,placeholder:"Please enter username",style:{width:240,marginRight:16}}),(0,r.jsx)(v.ZP,{disabled:i,type:"primary",onClick:function(){return U(a)},children:i?"Loading":"Edit"}),(0,r.jsx)(v.ZP,{type:"primary",onClick:g,style:{marginLeft:16},children:"Cancel"})]})}},48716:function(W,o,e){e.r(o);var A=e(52431),h=e(90674),D=e.n(h),c=e(50959),v=e(11527);function m(){return new Promise(function(u,r){setTimeout(function(){Math.random()>.5?u(D().mock("@name")):r(new Error("Failed to get username"))},1e3)})}o.default=function(){var u=(0,A.Z)(m),r=u.data,s=u.error,f=u.loading;return s?(0,v.jsx)("div",{children:s.message}):f?(0,v.jsx)("div",{children:"loading..."}):(0,v.jsxs)("div",{children:["Username: ",r]})}},29112:function(W,o,e){e.r(o);var A=e(28152),h=e.n(A),D=e(50959),c=e(98340),v=e(68315),m=e(53224),u=e(52431),r=e(11527);function s(f){return new Promise(function(_,a){setTimeout(function(){Math.random()>.5?_():a(new Error("Failed to modify username"))},1e3)})}o.default=function(){var f=(0,D.useState)(""),_=h()(f,2),a=_[0],E=_[1],C=(0,u.Z)(s,{manual:!0,onBefore:function(d){c.ZP.info("Start Request: ".concat(d[0]))},onSuccess:function(d,y){E(""),c.ZP.success('The username was changed to "'.concat(y[0],'" !'))},onError:function(d){c.ZP.error(d.message)},onFinally:function(d,y,L){c.ZP.info("Request finish")}}),i=C.loading,U=C.run;return(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{value:a,placeholder:"Please enter username",style:{width:240,marginRight:16},onChange:function(d){return E(d.target.value)}}),(0,r.jsx)(m.ZP,{disabled:i,type:"primary",onClick:function(){return U(a)},children:i?"Loading":"Edit"})]})}},31033:function(W,o,e){e.r(o);var A=e(28152),h=e.n(A),D=e(50959),c=e(98340),v=e(68315),m=e(53224),u=e(52431),r=e(11527);function s(f){return new Promise(function(_,a){setTimeout(function(){Math.random()>.5?_():a(new Error("Failed to modify username"))},1e3)})}o.default=function(){var f=(0,D.useState)(""),_=h()(f,2),a=_[0],E=_[1],C=(0,u.Z)(s,{manual:!0,onSuccess:function(d,y){E(""),c.ZP.success('The username was changed to "'.concat(y[0],'" !'))},onError:function(d){c.ZP.error(d.message)}}),i=C.loading,U=C.run;return(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{onChange:function(d){return E(d.target.value)},value:a,placeholder:"Please enter username",style:{width:240,marginRight:16}}),(0,r.jsx)(m.ZP,{disabled:i,type:"primary",onClick:function(){return U(a)},children:i?"Loading":"Edit"})]})}},61955:function(W,o,e){e.r(o);var A=e(13448),h=e.n(A),D=e(74815),c=e.n(D),v=e(28152),m=e.n(v),u=e(98340),r=e(68315),s=e(53224),f=e(50959),_=e(52431),a=e(11527);function E(C){return new Promise(function(i,U){setTimeout(function(){Math.random()>.5?i():U(new Error("Failed to modify username"))},1e3)})}o.default=function(){var C=(0,f.useState)(""),i=m()(C,2),U=i[0],g=i[1],d=(0,_.Z)(E,{manual:!0}),y=d.loading,L=d.runAsync,K=function(){var k=c()(h()().mark(function Z(){return h()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,R.next=3,L(U);case 3:g(""),u.ZP.success('The username was changed to "'.concat(U,'" !')),R.next=10;break;case 7:R.prev=7,R.t0=R.catch(0),u.ZP.error(R.t0.message);case 10:case"end":return R.stop()}},Z,null,[[0,7]])}));return function(){return k.apply(this,arguments)}}();return(0,a.jsxs)("div",{children:[(0,a.jsx)(r.Z,{value:U,placeholder:"Please enter username",style:{width:240,marginRight:16},onChange:function(Z){return g(Z.target.value)}}),(0,a.jsx)(s.ZP,{disabled:y,type:"primary",onClick:K,children:y?"Loading":"Edit"})]})}},4799:function(W,o,e){e.r(o);var A=e(28152),h=e.n(A),D=e(98340),c=e(68315),v=e(53224),m=e(50959),u=e(52431),r=e(90674),s=e.n(r),f=e(11527);function _(){return new Promise(function(E){setTimeout(function(){E(s().mock("@name"))},1e3)})}function a(E){return new Promise(function(C,i){setTimeout(function(){Math.random()>.5?C():i(new Error("Failed to modify username"))},1e3)})}o.default=function(){var E=(0,m.useRef)(),C=(0,m.useState)(""),i=h()(C,2),U=i[0],g=i[1],d=(0,u.Z)(_),y=d.data,L=d.mutate,K=(0,u.Z)(a,{manual:!0,onSuccess:function(R,z){g(""),D.ZP.success('The username was changed to "'.concat(z[0],'" !'))},onError:function(R){D.ZP.error(R.message),L(E.current)}}),k=K.run,Z=function(){E.current=y,L(U),k(U)};return(0,f.jsxs)("div",{children:[(0,f.jsxs)("p",{children:["Username: ",y]}),(0,f.jsx)(c.Z,{value:U,placeholder:"Please enter username",style:{width:240,marginRight:16},onChange:function(R){return g(R.target.value)}}),(0,f.jsx)(v.ZP,{type:"primary",onClick:Z,children:"Edit"})]})}},13653:function(W,o,e){e.r(o);var A=e(28152),h=e.n(A),D=e(50959),c=e(52431),v=e(90674),m=e.n(v),u=e(68315),r=e(53224),s=e(11527);function f(_){return new Promise(function(a){setTimeout(function(){a(m().mock("@name"))},1e3)})}o.default=function(){var _=(0,D.useState)(""),a=h()(_,2),E=a[0],C=a[1],i=(0,c.Z)(f,{defaultParams:["1"]}),U=i.data,g=i.run,d=i.params,y=function(){g(E)};return(0,s.jsxs)("div",{children:[(0,s.jsx)(u.Z,{value:E,placeholder:"Please enter userId",style:{width:240,marginRight:16},onChange:function(K){return C(K.target.value)}}),(0,s.jsx)(r.ZP,{type:"primary",onClick:y,children:"GetUserName"}),(0,s.jsxs)("p",{style:{marginTop:8},children:["UserId: ",d[0]]}),(0,s.jsxs)("p",{children:["Username: ",U]})]})}},32880:function(W,o,e){e.r(o);var A=e(50959),h=e(52431),D=e(90674),c=e.n(D),v=e(53224),m=e(11527);function u(r){return console.log("use-request-refresh-id",r),new Promise(function(s){setTimeout(function(){s(c().mock("@name"))},1e3)})}o.default=function(){var r=(0,h.Z)(function(E){return u(E)},{manual:!0}),s=r.data,f=r.loading,_=r.run,a=r.refresh;return(0,A.useEffect)(function(){_(1)},[]),f?(0,m.jsx)("div",{children:"loading..."}):(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{children:["Username: ",s]}),(0,m.jsx)(v.ZP,{onClick:a,type:"primary",children:"Refresh"})]})}},8316:function(W,o,e){e.r(o);var A=e(52431),h=e(90674),D=e.n(h),c=e(50959),v=e(11527);function m(){return new Promise(function(u){setTimeout(function(){u(D().mock("@name"))},1e3)})}o.default=function(){var u=(0,A.Z)(m),r=u.data,s=u.error,f=u.loading;return s?(0,v.jsx)("div",{children:"failed to load"}):f?(0,v.jsx)("div",{children:"loading..."}):(0,v.jsxs)("div",{children:["Username: ",r]})}},47005:function(W,o,e){e.r(o);var A=e(28152),h=e.n(A),D=e(50959),c=e(98340),v=e(68315),m=e(53224),u=e(52431),r=e(11527);function s(f){return new Promise(function(_){setTimeout(function(){_({success:!0})},1e3)})}o.default=function(){var f=(0,D.useState)(""),_=h()(f,2),a=_[0],E=_[1],C=(0,u.Z)(s,{manual:!0,onSuccess:function(d,y){d.success&&(E(""),c.ZP.success('The username was changed to "'.concat(y[0],'" !')))}}),i=C.loading,U=C.run;return(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{value:a,placeholder:"Please enter username",style:{width:240,marginRight:16},onChange:function(d){return E(d.target.value)}}),(0,r.jsx)(m.ZP,{disabled:i,type:"primary",onClick:function(){return U(a)},children:i?"Loading":"Edit"})]})}},52431:function(W,o,e){e.d(o,{Z:function(){return ve}});var A=e(67855),h=e.n(A),D=e(77117),c=e.n(D),v=e(27566),m=e.n(v),u=e(95530),r=e.n(u),s=e(50959);function f(T,n){if(T===n)return!0;for(var t=0;t<T.length;t++)if(!Object.is(T[t],n[t]))return!1;return!0}function _(T,n){var t=(0,s.useRef)({deps:n,obj:void 0,initialized:!1}),l=t.current;return(!l.initialized||!f(l.deps,n))&&(l.deps=n,l.obj=T(),l.initialized=!0),l.obj}var a=function(n){var t=(0,s.useRef)(n);return t.current=n,t},E=a,C=function(n){return n!==null&&_typeof(n)==="object"},i=function(n){return typeof n=="function"},U=function(n){return typeof n=="string"},g=function(n){return typeof n=="boolean"},d=function(n){return typeof n=="number"},y=function(n){return typeof n=="undefined"},L=!1,K=L,k=function(n){K&&(i(n)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(m()(n),'".'))),(0,s.useEffect)(function(){n&&n()},[])},Z=k,H=function(n){K&&(i(n)||console.error("useMemoizedFn expected parameter is a function, but got ".concat(m()(n))));var t=(0,s.useRef)(n);t.current=(0,s.useMemo)(function(){return n},[n]);var l=(0,s.useRef)();return l.current||(l.current=function(){for(var I=arguments.length,j=new Array(I),M=0;M<I;M++)j[M]=arguments[M];return t.current.apply(this,j)}),l.current},R=H,z=function(n){K&&(i(n)||console.error("useUnmount expected parameter is a function, but got ".concat(m()(n))));var t=E(n);(0,s.useEffect)(function(){return function(){return t.current()}},[])},Y=z,w=e(28152),q=e.n(w),ee=function(){var n=(0,s.useState)({}),t=q()(n,2),l=t[1];return(0,s.useCallback)(function(){return l({})},[])},ne=ee,te=e(13448),J=e.n(te),re=e(74815),se=e.n(re),ae=e(15033),oe=e.n(ae),ue=e(96345),_e=e.n(ue),ie=e(21320),G=e.n(ie),le=["stopNow","returnNow"],de=function(){function T(n,t,l){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};oe()(this,T),G()(this,"count",0),G()(this,"pluginImpls",void 0),G()(this,"state",{loading:!1,params:void 0,data:void 0,error:void 0}),this.serviceRef=n,this.options=t,this.subscribe=l,this.initState=I,this.state=c()(c()({},this.state),{},{loading:!t.manual},I)}return _e()(T,[{key:"cancel",value:function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")}},{key:"run",value:function(){var t=this;this.runAsync.apply(this,arguments).catch(function(l){t.options.onError||console.error(l)})}},{key:"runAsync",value:function(){var n=se()(J()().mark(function l(){var I,j,M,B,p,$,P,S,b,F,Q,N,V,x,X=arguments;return J()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:for(this.count+=1,I=this.count,j=X.length,M=new Array(j),B=0;B<j;B++)M[B]=X[B];if(p=this.runPluginHandler("onBefore",M),$=p.stopNow,P=$===void 0?!1:$,S=p.returnNow,b=S===void 0?!1:S,F=r()(p,le),!P){O.next=6;break}return O.abrupt("return",new Promise(function(){}));case 6:if(this.setState(c()({loading:!0,params:M},F)),!b){O.next=9;break}return O.abrupt("return",Promise.resolve(F.data));case 9:return this.options.onBefore&&this.options.onBefore(M),O.prev=10,Q=this.runPluginHandler("onRequest",this.serviceRef.current,M),N=Q.servicePromise,N||(N=(V=this.serviceRef).current.apply(V,M)),O.next=15,N;case 15:if(x=O.sent,I===this.count){O.next=18;break}return O.abrupt("return",new Promise(function(){}));case 18:return this.setState({data:x,loading:!1,error:void 0}),this.options.onSuccess&&this.options.onSuccess(x,M),this.runPluginHandler("onSuccess",x,M),this.options.onFinally&&this.options.onFinally(M,x,void 0),I===this.count&&this.runPluginHandler("onFinally",M,x,void 0),O.abrupt("return",x);case 26:if(O.prev=26,O.t0=O.catch(10),I===this.count){O.next=30;break}return O.abrupt("return",new Promise(function(){}));case 30:throw this.setState({error:O.t0,loading:!1}),this.options.onError&&this.options.onError(O.t0,M),this.runPluginHandler("onError",O.t0,M),this.options.onFinally&&this.options.onFinally(M,void 0,O.t0),I===this.count&&this.runPluginHandler("onFinally",M,void 0,O.t0),O.t0;case 36:case"end":return O.stop()}},l,this,[[10,26]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"refresh",value:function(){this.run.apply(this,h()(this.state.params||[]))}},{key:"refreshAsync",value:function(){return this.runAsync.apply(this,h()(this.state.params||[]))}},{key:"mutate",value:function(t){var l=i(t)?t(this.state.data):t;this.runPluginHandler("onMutate",l),this.setState({data:l})}},{key:"runPluginHandler",value:function(t){for(var l=arguments.length,I=new Array(l>1?l-1:0),j=1;j<l;j++)I[j-1]=arguments[j];var M=this.pluginImpls.map(function(B){var p;return(p=B[t])===null||p===void 0?void 0:p.call.apply(p,[B].concat(I))}).filter(Boolean);return Object.assign.apply(Object,[{}].concat(h()(M)))}},{key:"setState",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.state=c()(c()({},this.state),t),this.subscribe()}}]),T}(),ce=["manual"],me=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],I=t.manual,j=I===void 0?!1:I,M=r()(t,ce);K&&t.defaultParams&&!Array.isArray(t.defaultParams)&&console.warn("expected defaultParams is array, but got ".concat(m()(t.defaultParams)));var B=c()({manual:j},M),p=E(n),$=ne(),P=_(function(){var S=l.map(function(b){var F;return b==null||(F=b.onInit)===null||F===void 0?void 0:F.call(b,B)}).filter(Boolean);return new de(p,B,$,Object.assign.apply(Object,[{}].concat(h()(S))))},[]);return P.options=B,P.pluginImpls=l.map(function(S){return S(P,B)}),Z(function(){if(!j){var S=P.state.params||t.defaultParams||[];P.run.apply(P,h()(S))}}),Y(function(){P.cancel()}),{data:P.state.data,loading:P.state.loading,run:R(P.run.bind(P)),runAsync:R(P.runAsync.bind(P)),error:P.state.error,params:P.state.params||[],cancel:R(P.cancel.bind(P)),mutate:R(P.mutate.bind(P)),refresh:R(P.refresh.bind(P)),refreshAsync:R(P.refreshAsync.bind(P))}},fe=me,he=function(n,t,l){return fe(n,t,h()(l||[]))},Ee=he,ve=Ee}}]);
